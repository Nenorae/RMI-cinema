# Database Configuration (H2)
# DB_CLOSE_DELAY=-1 agar database H2 in-memory tidak hilang antar koneksi (berguna saat cek H2 Console)
spring.datasource.url=jdbc:h2:mem:cinema_db;DB_CLOSE_DELAY=-1 
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa

# Password dikosongkan, lebih umum untuk H2 dev, atau gunakan 'password' jika memang diset di H2
spring.h2.console.enabled=true
spring.datasource.password= 
spring.h2.console.path=/h2-console

# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# PENTING: Set ddl-auto ke validate atau none
# Hibernate akan memvalidasi skema dari schema.sql terhadap entitas Anda
spring.jpa.hibernate.ddl-auto=validate 
# spring.jpa.hibernate.ddl-auto=none # Alternatif jika tidak ingin validasi, Hibernate tidak melakukan apa-apa pada skema

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# SQL Initialization - untuk menjalankan schema.sql dan data.sql
# Selalu jalankan skrip SQL (schema.sql, data.sql)
spring.sql.init.mode=always 

# PENTING: Set ke false agar aplikasi GAGAL startup jika ada error di schema.sql Anda. Ini membantu menemukan masalah skema lebih cepat.
spring.sql.init.continue-on-error=false

# RMI Configuration
rmi.registry.port=1099
rmi.service.port=1098
rmi.service.host=localhost

# Application Configuration
server.port=8080
spring.application.name=cinema-ticketing

# Logging
logging.level.com.cinema.ticketing=DEBUG
logging.level.org.springframework.web=INFO
# Tambahkan ini untuk melihat log inisialisasi SQL jika ada masalah:
logging.level.org.springframework.jdbc.datasource.init=DEBUG

# Sudah dicakup oleh show-sql tapi ini lebih eksplisit untuk log
logging.level.org.hibernate.SQL=DEBUG 